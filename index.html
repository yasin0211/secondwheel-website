<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Second Wheel ‚Äì Trusted Vehicles, Smart Deals</title>
<meta name="theme-color" content="#111827" />
<style>
  :root{
    --bg:#0b0f17; --card:#121826; --muted:#9aa3b2; --text:#e5e7eb;
    --brand:#f59e0b; --brand-2:#22c55e; --shadow:0 8px 28px rgba(0,0,0,.35);
  }
  /* Light theme overrides */
  :root[data-theme="light"]{
    --bg:#f7f8fb; --card:#ffffff; --text:#0b0f17; --muted:#5b667a;
    --brand:#f59e0b; --brand-2:#16a34a;
  }

  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--text);
       font:14px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial}
  a{color:inherit;text-decoration:none}
  img{max-width:100%;display:block}
  .container{max-width:1160px;margin:0 auto;padding:16px}
/* --- Featured Vehicle Card Compact --- */
#vehiclesRow {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
}
@media (min-width: 720px) {
  #vehiclesRow {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}
@media (min-width: 1024px) {
  #vehiclesRow {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

.vehicle {
  border-radius: 12px;
  padding: 8px;
}

.vehicle .media img {
  width: 100%;
  height: 150px;   /* ‡§≤‡§π‡§æ‡§® ‡§â‡§Ç‡§ö‡•Ä */
  object-fit: cover;
  border-radius: 10px;
}

.vehicle .body {
  padding: 8px;
}

.vehicle .title {
  font-size: 14px;
  font-weight: bold;
}

.vehicle .meta {
  font-size: 11px;
  color: gray;
}

.vehicle .desc {
  font-size: 12px;
  margin-top: 4px;
}

.vehicle .actions .btn {
  padding: 6px 10px;
  font-size: 12px;
  border-radius: 8px;
}

  /* Header */
  header{position:sticky;top:0;z-index:50;background:rgba(11,15,23,.72);
         backdrop-filter:blur(12px);border-bottom:1px solid rgba(255,255,255,.06)}
  .nav{display:flex;align-items:center;gap:12px;justify-content:space-between;padding:10px 12px}
  .brand{display:flex;align-items:center;gap:12px}
  .brand img{width:44px;height:44px;border-radius:12px;box-shadow:var(--shadow)}
  .brand h1{font-size:16px;margin:0;font-weight:800;letter-spacing:.3px}
  .top-links{display:flex;gap:10px;flex-wrap:wrap}
  .pill{padding:10px 14px;border:1px solid rgba(255,255,255,.08);border-radius:999px;background:rgba(255,255,255,.04)}
  .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));cursor:pointer}
  .btn:active{transform:translateY(1px)}
  .btn-primary{background:linear-gradient(180deg, #f59e0b, #b45309);color:#111}
  .toolbar{display:flex;gap:8px;align-items:center}
  .seg{display:inline-flex;border:1px solid rgba(255,255,255,.1);border-radius:999px;overflow:hidden}
  .seg button{border:0;background:transparent;padding:8px 10px;color:var(--text);cursor:pointer}
  .seg button.active{background:rgba(255,255,255,.16)}

  /* Hero */
  .hero{position:relative;overflow:hidden;border-bottom:1px solid rgba(255,255,255,.06)}
  .hero-bg{position:absolute;inset:0;background:radial-gradient(90% 60% at 50% 40%, rgba(245,158,11,.12), transparent 60%), linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,.55));}
  .hero-inner{position:relative;z-index:1;padding:48px 16px 28px}
  .hero h2{font-size:28px;margin:0 0 10px}
  .hero p{margin:0 0 18px;color:#cbd5e1}
  .toggle{display:inline-grid;grid-auto-flow:column;gap:8px;background:rgba(0,0,0,.35);padding:6px;border-radius:999px;border:1px solid rgba(255,255,255,.12)}
  .toggle button{padding:10px 14px;border-radius:999px;border:none;background:transparent;color:var(--text);cursor:pointer}
  .toggle button.active{background:var(--brand);color:#111;font-weight:700}

  /* Grids */
  .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
  @media(min-width:720px){.grid{grid-template-columns:repeat(4,1fr)}}
  .card{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:14px;box-shadow:var(--shadow);transition:transform .15s ease}
  .card:hover{transform:translateY(-2px)}
  .card h3{margin:10px 0 4px;font-size:15px}
  .muted{color:var(--muted)}

  /* Featured row */
  .row{display:flex;gap:12px;overflow:auto;scroll-snap-type:x mandatory;padding-bottom:2px}
  .vehicle{min-width:292px;background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:18px;box-shadow:var(--shadow);scroll-snap-align:center}
  .vehicle .media{position:relative}
  .vehicle .tag{position:absolute;top:10px;left:10px;background:var(--brand);color:#111;padding:4px 8px;border-radius:999px;font-weight:700;font-size:12px}
  .vehicle .body{padding:12px}
  .vehicle .title{font-weight:700}
  .vehicle .meta{display:flex;justify-content:space-between;color:#cbd5e1;font-size:12px}
  .vehicle .actions{display:flex;gap:8px;margin-top:10px}
  .wish{border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.04)}

  /* Tools icons */
  .toolcard{display:flex;gap:10px;align-items:center}
  .toolicon{width:36px;height:36px;border-radius:10px;background:rgba(255,255,255,.06);display:grid;place-items:center}

  /* Toast */
  .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:16px;background:#111827;color:#e5e7eb;border:1px solid rgba(255,255,255,.08);padding:10px 14px;border-radius:10px;box-shadow:var(--shadow);opacity:0;pointer-events:none;transition:opacity .3s}
  .toast.show{opacity:1}

  /* Footer */
  footer{border-top:1px solid rgba(255,255,255,.06);background:#0c121e}
  footer .cols{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}
  @media(min-width:720px){footer .cols{grid-template-columns:repeat(4,1fr)}}
  footer a{display:block;padding:6px 0;color:#cbd5e1}

  /* Float WhatsApp */
  .whatsapp{position:fixed;right:16px;bottom:16px;z-index:60}
  .whatsapp a{display:flex;align-items:center;gap:8px;padding:10px 14px;border-radius:999px;background:#25D366;color:#111;font-weight:700;box-shadow:var(--shadow)}

  .hidden{display:none !important}
</style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="nav container">
      <div class="brand">
        <img src="https://wbjwvxckbfkutqqbgupq.supabase.co/storage/v1/object/public/vehicals/logo.png" alt="Second Wheel logo">
        <h1>SECOND WHEEL</h1>
      </div>
      <div class="toolbar">
        <div class="seg" id="langSeg">
          <button data-lang="en" class="active">EN</button>
          <button data-lang="hi">HI</button>
          <button data-lang="mr">MR</button>
        </div>
        <button class="btn" id="darkToggle" aria-label="Toggle dark">üåô</button>
      </div>
    </div>
    <!-- Header nav: Contact removed as requested -->
    <nav class="container top-links" aria-label="Primary">
      <a class="pill" href="index.html"  data-i18n="nav.home">Home</a>
      <a class="pill" href="buy.html"    data-i18n="nav.buy">Buy</a>
      <a class="pill" href="sell.html"   data-i18n="nav.sell">Sell</a>
      <a class="pill" href="valuation.html" data-i18n="nav.valuation">Valuation</a>
      <a class="pill" href="tools.html"  data-i18n="nav.tools">Tools</a>
    </nav>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-bg"></div>
    <div class="hero-inner container">
      <h2 data-i18n="hero.title">Trusted Vehicles, Smart Deals</h2>
      <p  data-i18n="hero.subtitle">Buy & Sell pre-owned Cars and Bikes with complete peace of mind.</p>
      <div class="toggle" role="tablist" aria-label="Buy or Sell">
        <button id="tabBuy"  class="active" role="tab" aria-selected="true"  data-i18n="hero.buy">Buy</button>
        <button id="tabSell" role="tab"   aria-selected="false"            data-i18n="hero.sell">Sell</button>
      </div>
      <div id="panelBuy"  role="tabpanel" aria-labelledby="tabBuy"  style="margin-top:14px">
        <div class="grid">
          <a class="card" href="buy.html#cars">
            <div class="toolcard"><span class="toolicon">üöó</span><div><h3 data-i18n="hero.buycar">Buy Car</h3><div class="muted">Explore verified listings</div></div></div>
          </a>
          <a class="card" href="buy.html#bikes">
            <div class="toolcard"><span class="toolicon">üèçÔ∏è</span><div><h3 data-i18n="hero.buybike">Buy Bike</h3><div class="muted">Curated options</div></div></div>
          </a>
          <a class="card" href="buy.html#scooters">
            <div class="toolcard"><span class="toolicon">üõµ</span><div><h3>Buy Scooter</h3><div class="muted">Popular picks</div></div></div>
          </a>
        </div>
      </div>
      <div id="panelSell" role="tabpanel" aria-labelledby="tabSell" class="hidden" style="margin-top:14px">
        <div class="grid">
          <a class="card" href="sell.html#car"><div class="toolcard"><span class="toolicon">üöò</span><div><h3 data-i18n="hero.sellcar">Sell Car</h3><div class="muted">Doorstep inspection</div></div></div></a>
          <a class="card" href="sell.html#bike"><div class="toolcard"><span class="toolicon">üèçÔ∏è</span><div><h3 data-i18n="hero.sellbike">Sell Bike</h3><div class="muted">Quick approval</div></div></div></a>
        </div>
      </div>
    </div>
  </section>

  <!-- FEATURED -->
  <main class="container">
    <section aria-labelledby="featHeading" style="margin:22px 0">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:10px">
        <h3 id="featHeading" style="margin:0" data-i18n="feat.title">Featured Vehicles</h3>
        <div style="display:flex;gap:8px;align-items:center">
          <label for="brandFilter" class="muted" data-i18n="feat.filter">Brand</label>
          <select id="brandFilter" class="btn" style="min-width:160px"></select>
        </div>
      </div>
      <div id="vehiclesRow" class="row" aria-live="polite"></div>
    </section>

    <!-- TOOLS -->
    <section aria-labelledby="toolsHeading" style="margin:28px 0">
      <h3 id="toolsHeading" data-i18n="tools.title">Tools & Services</h3>
      <div class="grid">
        <a class="card" href="insurance.html">
          <div class="toolcard"><span class="toolicon">üõ°Ô∏è</span><div><h3>Insurance</h3><div class="muted">Buy / Renew</div></div></div>
        </a>
        <a class="card" href="tools.html#fastag">
          <div class="toolcard"><span class="toolicon">üè∑Ô∏è</span><div><h3>FASTag</h3><div class="muted">Recharge or Buy</div></div></div>
        </a>
        <a class="card" href="valuation.html">
          <div class="toolcard"><span class="toolicon">üìà</span><div><h3>Valuation</h3><div class="muted">Instant estimate</div></div></div>
        </a>
        <a class="card" href="https://hsrpmhzone2.in/" target="_blank" rel="noopener">
          <div class="toolcard"><span class="toolicon">üîñ</span><div><h3>HSRP Plate</h3><div class="muted">Official portal</div></div></div>
        </a>
        <a class="card" href="https://mahatrafficechallan.gov.in/" target="_blank" rel="noopener">
          <div class="toolcard"><span class="toolicon">üßæ</span><div><h3>Challan Payment</h3><div class="muted">Maharashtra</div></div></div>
        </a>
      </div>
    </section>
  </main>

  <!-- WhatsApp floating -->
  <div class="whatsapp"><a href="https://wa.me/919822292955" target="_blank" rel="noopener">WhatsApp</a></div>
  <div id="toast" class="toast" role="status" aria-live="polite">Saved!</div>

  <!-- FOOTER (links only; no navbar) -->
  <footer>
    <div class="container">
      <div class="cols" style="padding:20px 0 8px">
        <div>
          <h3>Second Wheel</h3>
          <p class="muted">Trusted Vehicles, Smart Deals</p>
        </div>
        <div>
          <h4>Company</h4>
          <a href="about.html">About Us</a>
          <a href="contact.html">Contact Us</a>
        </div>
        <div>
          <h4>Legal</h4>
          <a href="terms.html">Terms & Conditions</a>
          <a href="privacy.html">Privacy Policy</a>
          <a href="disclaimer.html">Disclaimer</a>
        </div>
        <div>
          <h4>Follow</h4>
          <a href="#">Instagram</a>
          <a href="#">Facebook</a>
        </div>
      </div>
      <div class="muted" style="padding:8px 0 24px">¬© <span id="yr"></span> Second Wheel ‚Äì All rights reserved.</div>
    </div>
  </footer>

  <!-- Supabase JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- Language + Theme bootstrap (FIRST) -->
  <script>
  const I18N = {
    en:{'nav.home':'Home','nav.buy':'Buy','nav.sell':'Sell','nav.valuation':'Valuation','nav.tools':'Tools',
        'hero.title':'Trusted Vehicles, Smart Deals','hero.subtitle':'Buy & Sell pre-owned Cars and Bikes with complete peace of mind.',
        'hero.buy':'Buy','hero.sell':'Sell','hero.buycar':'Buy Car','hero.buybike':'Buy Bike','hero.sellcar':'Sell Car','hero.sellbike':'Sell Bike',
        'feat.title':'Featured Vehicles','feat.filter':'Brand','tools.title':'Tools & Services'},
    hi:{'nav.home':'‡§π‡•ã‡§Æ','nav.buy':'‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç','nav.sell':'‡§¨‡•á‡§ö‡•á‡§Ç','nav.valuation':'‡§µ‡•à‡§≤‡•ç‡§Ø‡•Ç‡§è‡§∂‡§®','nav.tools':'‡§ü‡•Ç‡§≤‡•ç‡§∏',
        'hero.title':'‡§ü‡•ç‡§∞‡§∏‡•ç‡§ü‡•á‡§° ‡§µ‡•ç‡§π‡•Ä‡§ï‡§≤‡•ç‡§∏, ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§°‡•Ä‡§≤‡•ç‡§∏','hero.subtitle':'‡§™‡•Å‡§∞‡§æ‡§®‡•Ä ‡§ï‡§æ‡§∞/‡§¨‡§æ‡§á‡§ï ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§Ç‡§§ ‡§π‡•ã‡§ï‡§∞ ‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç ‡§î‡§∞ ‡§¨‡•á‡§ö‡•á‡§Ç‡•§',
        'hero.buy':'‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç','hero.sell':'‡§¨‡•á‡§ö‡•á‡§Ç','hero.buycar':'‡§ï‡§æ‡§∞ ‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç','hero.buybike':'‡§¨‡§æ‡§á‡§ï ‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç','hero.sellcar':'‡§ï‡§æ‡§∞ ‡§¨‡•á‡§ö‡•á‡§Ç','hero.sellbike':'‡§¨‡§æ‡§á‡§ï ‡§¨‡•á‡§ö‡•á‡§Ç',
        'feat.title':'‡§´‡§º‡•Ä‡§ö‡§∞‡•ç‡§° ‡§µ‡§æ‡§π‡§®','feat.filter':'‡§¨‡•ç‡§∞‡§æ‡§Ç‡§°','tools.title':'‡§ü‡•Ç‡§≤‡•ç‡§∏ ‡§î‡§∞ ‡§∏‡•á‡§µ‡§æ‡§è‡§Å'},
    mr:{'nav.home':'‡§Æ‡•Å‡§ñ‡§™‡•É‡§∑‡•ç‡§†','nav.buy':'‡§ñ‡§∞‡•á‡§¶‡•Ä','nav.sell':'‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä','nav.valuation':'‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡§æ‡§Ç‡§ï‡§®','nav.tools':'‡§∏‡§æ‡§ß‡§®‡•á',
        'hero.title':'‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø ‡§µ‡•ç‡§π‡•á‡§á‡§ï‡§≤‡•ç‡§∏, ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§°‡•Ä‡§≤‡•ç‡§∏','hero.subtitle':'‡§ú‡•Å‡§®‡•ç‡§Ø‡§æ ‡§ï‡§æ‡§∞/‡§¨‡§æ‡§à‡§ï ‡§®‡§ø‡§∞‡•ç‡§ß‡§æ‡§∏‡•ç‡§§‡§™‡§£‡•á ‡§ñ‡§∞‡•á‡§¶‡•Ä-‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä ‡§ï‡§∞‡§æ.',
        'hero.buy':'‡§ñ‡§∞‡•á‡§¶‡•Ä','hero.sell':'‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä','hero.buycar':'‡§ï‡§æ‡§∞ ‡§ñ‡§∞‡•á‡§¶‡•Ä','hero.buybike':'‡§¨‡§æ‡§à‡§ï ‡§ñ‡§∞‡•á‡§¶‡•Ä','hero.sellcar':'‡§ï‡§æ‡§∞ ‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä','hero.sellbike':'‡§¨‡§æ‡§à‡§ï ‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä',
        'feat.title':'‡§´‡•Ä‡§ö‡§∞‡•ç‡§° ‡§µ‡§æ‡§π‡§®‡•á','feat.filter':'‡§¨‡•ç‡§∞‡§Å‡§°','tools.title':'‡§ü‡•Ç‡§≤‡•ç‡§∏ ‡§Ü‡§£‡§ø ‡§∏‡•á‡§µ‡§æ'}
  };

  const KEY_LANG='secondwheel.lang', KEY_THEME='secondwheel.theme';
  const langSeg=document.getElementById('langSeg');
  const darkBtn=document.getElementById('darkToggle');

  function applyLang(l){
    document.querySelectorAll('[data-i18n]').forEach(el=>{
      const k=el.getAttribute('data-i18n');
      if(I18N[l] && I18N[l][k]) el.textContent=I18N[l][k];
    });
    localStorage.setItem(KEY_LANG,l);
    if(langSeg){
      langSeg.querySelectorAll('button').forEach(b=>b.classList.toggle('active', b.dataset.lang===l));
    }
  }
  function setTheme(t){
    document.documentElement.setAttribute('data-theme',t);
    localStorage.setItem(KEY_THEME,t);
    if(darkBtn) darkBtn.textContent=(t==='dark')?'üåô':'‚òÄÔ∏è';
  }
  function toast(msg){
    const t=document.getElementById('toast'); if(!t) return;
    t.textContent=msg; t.classList.add('show'); clearTimeout(window.__t);
    window.__t=setTimeout(()=>t.classList.remove('show'),1400);
  }

  document.addEventListener('DOMContentLoaded',()=>{
    try{
      // init year
      const y=document.getElementById('yr'); if(y) y.textContent=new Date().getFullYear();
      // init language + theme
      applyLang(localStorage.getItem(KEY_LANG)||'en');
      setTheme(localStorage.getItem(KEY_THEME)||'dark');

      if(langSeg){
        langSeg.addEventListener('click',e=>{
          const btn=e.target.closest('button[data-lang]');
          if(btn) { applyLang(btn.dataset.lang); toast('Language: '+btn.dataset.lang.toUpperCase()); }
        });
      }
      if(darkBtn){
        darkBtn.addEventListener('click',()=>{
          const next=(localStorage.getItem(KEY_THEME)||'dark')==='dark'?'light':'dark';
          setTheme(next);
        });
      }
    }catch(err){ console.error('Init error:',err); }
  });
  </script>

  <!-- Featured from Supabase (safe try/catch) -->
  <script>
  (function(){
    const SUPABASE_URL='https://wbjwvxckbfkutqqbgupq.supabase.co';
    const SUPABASE_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indiand2eGNrYmZrdXRxcWJndXBxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4NzU3NDEsImV4cCI6MjA2OTQ1MTc0MX0.u_zwikgAryhF5Ccv5yOvjq20hzxE5tbYfKI04uTnNXw';
    const BUCKET='vehicals';
    const row = document.getElementById('vehiclesRow');
    const brandFilter=document.getElementById('brandFilter');

    function vehicleCard(v){
      const el=document.createElement('article');
      el.className='vehicle';
      el.innerHTML=`
        <div class="media">
          <img src="${v.image}" alt="${v.title}">
          <span class="tag">Featured</span>
        </div>
        <div class="body">
          <div class="title">${v.title}</div>
          <div class="meta"><span>${v.brand}</span><span>${v.price||''}</span></div>
          <div class="muted" style="margin:6px 0 4px">${v.year||''} ‚Ä¢ ${v.km||''} km</div>
          <p class="muted" style="margin:6px 0">${v.desc||''}</p>
          <div class="actions">
            <button class="btn wish">‚ô° Wishlist</button>
            <a class="btn btn-primary" href="https://wa.me/919822292955?text=${encodeURIComponent('Interested: '+v.title)}">Enquire Now</a>
          </div>
        </div>`;
      return el;
    }

    async function run(){
      try{
        const client = window.supabase.createClient(SUPABASE_URL,SUPABASE_KEY);
        // list featured folders (prefix "featured/")
        const { data:folders, error } = await client.storage.from(BUCKET).list('featured', {limit:100});
        if(error) throw error;

        const items=[];
        for(const f of (folders||[])){
          if(f.id || f.name){ // folder or file name
            const folder='featured/'+(f.name||'');
            // read meta.json if present
            let info={title:f.name, brand:'', price:'', year:'', km:'', desc:''};
            const { data:meta } = await client.storage.from(BUCKET).download(folder+'/meta.json');
            if(meta){
              try{ info = JSON.parse(await meta.text()); }catch{}
            }
            // get first image
            const { data:imgs } = await client.storage.from(BUCKET).list(folder, {limit:1, search:'jpg'});
            let imgPath = imgs && imgs[0] ? folder + '/' + imgs[0].name : null;
            if(!imgPath){ imgPath = 'logo.png'; }
            const { data:urlObj } = client.storage.from(BUCKET).getPublicUrl(imgPath);
            items.push({
              title:info.title||f.name, brand:info.brand||'', price:info.price||'',
              year:info.year||'', km:info.km||'', desc:info.desc||'',
              image:urlObj?.publicUrl || (SUPABASE_URL+'/storage/v1/object/public/'+imgPath)
            });
          }
        }

        // brands for filter
        const brands=[...new Set(items.map(x=>x.brand).filter(Boolean))];
        brandFilter.innerHTML = '<option value="">All</option>' + brands.map(b=>`<option>${b}</option>`).join('');
        brandFilter.onchange = ()=>render(brandFilter.value);

        function render(brand){
          row.innerHTML='';
          items.filter(x=>!brand || x.brand===brand).forEach(x=>row.appendChild(vehicleCard(x)));
          if(!row.children.length){ row.innerHTML='<div class="muted">No items yet</div>'; }
        }
        render('');
      }catch(e){
        console.warn('Featured fetch failed, showing placeholder:', e);
        // graceful fallback
        row.innerHTML='';
        row.appendChild(vehicleCard({
          title:'Maruti Suzuki Swift', brand:'Maruti Suzuki', price:'‚Çπ3.25L',
          year:'2018', km:'45,000', desc:'Single-owner, excellent mileage.',
          image:'https://images.unsplash.com/photo-1511918984145-48de785d4c4f?auto=format&fit=crop&w=900&q=60'
        }));
      }
    }
    document.addEventListener('DOMContentLoaded', run);
  })();
  </script>
</body>
</html>
