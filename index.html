<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Second Wheel ‚Äì Trusted Vehicles, Smart Deals</title>
  <meta name="theme-color" content="#111827" />
  <style>
    :root{
      --bg:#0b0f17; --card:#121826; --muted:#9aa3b2; --text:#e5e7eb; --brand:#f59e0b; --brand-2:#22c55e; --shadow:0 8px 28px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font:14px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:1160px;margin:0 auto;padding:16px}

    /* Header */
    header{position:sticky;top:0;z-index:50;background:rgba(11,15,23,.72);backdrop-filter:blur(12px);border-bottom:1px solid rgba(255,255,255,.06)}
    .nav{display:flex;align-items:center;gap:12px;justify-content:space-between;padding:10px 12px}
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{width:44px;height:44px;border-radius:12px;box-shadow:var(--shadow)}
    .brand h1{font-size:16px;margin:0;font-weight:800;letter-spacing:.3px}
    .top-links{display:flex;gap:10px;flex-wrap:wrap}
    .pill{padding:10px 14px;border:1px solid rgba(255,255,255,.08);border-radius:999px;background:rgba(255,255,255,.04)}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));cursor:pointer}
    .btn:active{transform:translateY(1px)}
    .btn-primary{background:linear-gradient(180deg, #f59e0b, #b45309);color:#111}
    .toolbar{display:flex;gap:8px;align-items:center}
    .seg{display:inline-flex;border:1px solid rgba(255,255,255,.1);border-radius:999px;overflow:hidden}
    .seg button{border:0;background:transparent;padding:8px 10px;color:var(--text);cursor:pointer}
    .seg button.active{background:rgba(255,255,255,.16)}

    /* Hero */
    .hero{position:relative;overflow:hidden;border-bottom:1px solid rgba(255,255,255,.06)}
    .hero-bg{position:absolute;inset:0;background:radial-gradient(90% 60% at 50% 40%, rgba(245,158,11,.12), transparent 60%), linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,.55));}
    .hero-inner{position:relative;z-index:1;padding:48px 16px 28px}
    .hero h2{font-size:28px;margin:0 0 10px}
    .hero p{margin:0 0 18px;color:#cbd5e1}
    .toggle{display:inline-grid;grid-auto-flow:column;gap:8px;background:rgba(0,0,0,.35);padding:6px;border-radius:999px;border:1px solid rgba(255,255,255,.12)}
    .toggle button{padding:10px 14px;border-radius:999px;border:none;background:transparent;color:var(--text);cursor:pointer}
    .toggle button.active{background:var(--brand);color:#111;font-weight:700}

    /* Grids */
    .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    @media(min-width:720px){.grid{grid-template-columns:repeat(4,1fr)}}
    .card{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:14px;box-shadow:var(--shadow);transition:transform .15s ease}
    .card:hover{transform:translateY(-2px)}
    .card h3{margin:10px 0 4px;font-size:15px}
    .muted{color:var(--muted)}

    /* Featured row */
    .row{display:flex;gap:12px;overflow:auto;scroll-snap-type:x mandatory;padding-bottom:2px}
    .vehicle{min-width:292px;background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:18px;box-shadow:var(--shadow);scroll-snap-align:center}
    .vehicle .media{position:relative}
    .vehicle .tag{position:absolute;top:10px;left:10px;background:var(--brand);color:#111;padding:4px 8px;border-radius:999px;font-weight:700;font-size:12px}
    .vehicle .body{padding:12px}
    .vehicle .title{font-weight:700}
    .vehicle .meta{display:flex;justify-content:space-between;color:#cbd5e1;font-size:12px}
    .vehicle .actions{display:flex;gap:8px;margin-top:10px}
    .wish{border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.04)}

    /* Tools icons */
    .toolcard{display:flex;gap:10px;align-items:center}
    .toolicon{width:36px;height:36px;border-radius:10px;background:rgba(255,255,255,.06);display:grid;place-items:center}

    /* Bottom nav */
    .bottom-nav{position:sticky;bottom:0;background:rgba(11,15,23,.85);backdrop-filter:blur(10px);border-top:1px solid rgba(255,255,255,.08)}
    .bn-row{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;padding:8px}
    .bn-btn{padding:10px;border-radius:12px;background:rgba(255,255,255,.06);text-align:center}

    /* FAQ */
    details{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:14px;padding:10px}
    details+details{margin-top:8px}
    summary{cursor:pointer;font-weight:600}

    /* Floaters */
    .whatsapp{position:fixed;right:16px;bottom:86px;z-index:60}
    .whatsapp a{display:flex;align-items:center;gap:8px;padding:10px 14px;border-radius:999px;background:#25D366;color:#111;font-weight:700;box-shadow:var(--shadow)}

    .hidden{display:none !important}
    .ok{color:var(--brand-2)}

    /* Toast */
    .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:16px;background:#111827;color:#e5e7eb;border:1px solid rgba(255,255,255,.08);padding:10px 14px;border-radius:10px;box-shadow:var(--shadow);opacity:0;pointer-events:none;transition:opacity .3s}
    .toast.show{opacity:1}

    /* Footer */
    footer{border-top:1px solid rgba(255,255,255,.06);background:#0c121e}
    footer .cols{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}
    @media(min-width:720px){footer .cols{grid-template-columns:repeat(4,1fr)}}
    footer a{display:block;padding:6px 0;color:#cbd5e1}
  </style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="nav container">
      <div class="brand">
        <img src="https://wbjwvxckbfkutqqbgupq.supabase.co/storage/v1/object/public/vehicals/logo.png" alt="Second Wheel logo">
        <h1>SECOND WHEEL</h1>
      </div>
      <div class="toolbar">
        <div class="seg" id="langSeg">
          <button data-lang="en" class="active">EN</button>
          <button data-lang="hi">HI</button>
          <button data-lang="mr">MR</button>
        </div>
        <button class="btn" id="darkToggle" aria-label="Toggle dark">üåô</button>
      </div>
    </div>
    <nav class="container top-links" aria-label="Primary">
      <a class="pill" href="index.html" data-i18n="nav.home">Home</a>
      <a class="pill" href="buy.html" data-i18n="nav.buy">Buy</a>
      <a class="pill" href="sell.html" data-i18n="nav.sell">Sell</a>
      <a class="pill" href="valuation.html" data-i18n="nav.valuation">Valuation</a>
      <a class="pill" href="tools.html" data-i18n="nav.tools">Tools</a>
      <a class="pill" href="contact.html" data-i18n="nav.contact">Contact</a>
    </nav>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-bg"></div>
    <div class="hero-inner container">
      <h2 data-i18n="hero.title">Trusted Vehicles, Smart Deals</h2>
      <p data-i18n="hero.subtitle">Buy & Sell pre-owned Cars and Bikes with complete peace of mind.</p>
      <div class="toggle" role="tablist" aria-label="Buy or Sell">
        <button id="tabBuy" class="active" role="tab" aria-selected="true" data-i18n="hero.buy">Buy</button>
        <button id="tabSell" role="tab" aria-selected="false" data-i18n="hero.sell">Sell</button>
      </div>
      <div id="panelBuy" role="tabpanel" aria-labelledby="tabBuy" style="margin-top:14px">
        <div class="grid">
          <a class="card" href="buy.html#cars">
            <div class="toolcard"><span class="toolicon">üöó</span>
            <div>
              <h3 data-i18n="hero.buycar">Buy Car</h3>
              <div class="muted">Explore verified listings</div>
            </div></div>
          </a>
          <a class="card" href="buy.html#bikes">
            <div class="toolcard"><span class="toolicon">üèçÔ∏è</span>
            <div>
              <h3 data-i18n="hero.buybike">Buy Bike</h3>
              <div class="muted">Curated options</div>
            </div></div>
          </a>
          <a class="card" href="buy.html#scooters">
            <div class="toolcard"><span class="toolicon">üõµ</span>
            <div>
              <h3>Buy Scooter</h3>
              <div class="muted">Popular picks</div>
            </div></div>
          </a>
        </div>
      </div>
      <div id="panelSell" role="tabpanel" aria-labelledby="tabSell" class="hidden" style="margin-top:14px">
        <div class="grid">
          <a class="card" href="sell.html#car"><div class="toolcard"><span class="toolicon">üöò</span><div><h3 data-i18n="hero.sellcar">Sell Car</h3><div class="muted">Doorstep inspection</div></div></div></a>
          <a class="card" href="sell.html#bike"><div class="toolcard"><span class="toolicon">üèçÔ∏è</span><div><h3 data-i18n="hero.sellbike">Sell Bike</h3><div class="muted">Quick approval</div></div></div></a>
        </div>
      </div>
    </div>
  </section>

  <!-- FEATURED -->
  <main class="container">
    <section aria-labelledby="featHeading" style="margin:22px 0">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:10px">
        <h3 id="featHeading" style="margin:0" data-i18n="feat.title">Featured Vehicles</h3>
        <div style="display:flex;gap:8px;align-items:center">
          <label for="brandFilter" class="muted" data-i18n="feat.filter">Brand</label>
          <select id="brandFilter" class="btn" style="min-width:160px"></select>
        </div>
      </div>
      <div id="vehiclesRow" class="row" aria-live="polite"></div>
    </section>

    <!-- TOOLS -->
    <section aria-labelledby="toolsHeading" style="margin:28px 0">
      <h3 id="toolsHeading" data-i18n="tools.title">Tools & Services</h3>
      <div class="grid">
        <a class="card" href="https://maharashtra.hsrp.in" target="_blank" rel="noopener">
          <div class="toolcard"><span class="toolicon">üîñ</span><div><h3>HSRP Booking</h3><div class="muted">Official site</div></div></div>
        </a>
        <a class="card" href="https://mahatrafficechallan.gov.in/" target="_blank" rel="noopener">
          <div class="toolcard"><span class="toolicon">üßæ</span><div><h3>Pay Challan</h3><div class="muted">Maharashtra</div></div></div>
        </a>
        <a class="card" href="insurance.html">
          <div class="toolcard"><span class="toolicon">üõ°Ô∏è</span><div><h3>Insurance</h3><div class="muted">Buy / Renew</div></div></div>
        </a>
        <a class="card" href="tools.html#fastag">
          <div class="toolcard"><span class="toolicon">üè∑Ô∏è</span><div><h3>FASTag</h3><div class="muted">Buy / Recharge</div></div></div>
        </a>
        <a class="card" href="https://parivahan.gov.in" target="_blank" rel="noopener">
          <div class="toolcard"><span class="toolicon">üé´</span><div><h3>Driving Licence</h3><div class="muted">Apply Online</div></div></div>
        </a>
      </div>
    </section>

    <!-- TESTIMONIALS -->
    <section aria-labelledby="testHeading" style="margin:28px 0">
      <h3 id="testHeading" data-i18n="test.title">What Customers Say</h3>
      <div id="testimonials" class="row" role="list"></div>
    </section>

    <!-- FAQ (Multilingual) -->
    <section aria-labelledby="faqHeading" style="margin:28px 0 80px">
      <h3 id="faqHeading">FAQ</h3>
      <details>
        <summary data-i18n="faq.q1">How does valuation work?</summary>
        <div class="muted" data-i18n="faq.a1">Enter vehicle details and get an instant estimate. Final price after inspection.</div>
      </details>
      <details>
        <summary data-i18n="faq.q2">Do you offer doorstep inspection?</summary>
        <div class="muted" data-i18n="faq.a2">Yes, available in select cities.</div>
      </details>
      <details>
        <summary data-i18n="faq.q3">Is Satara district prioritized?</summary>
        <div class="muted" data-i18n="faq.a3">Yes, doorstep approval currently only for Satara district.</div>
      </details>
    </section>
  </main>

  <!-- BOTTOM NAV -->
  <div class="bottom-nav" role="navigation" aria-label="Quick actions">
    <div class="bn-row container">
      <a class="bn-btn" href="buy.html" data-i18n="nav.buy">Buy</a>
      <a class="bn-btn" href="sell.html" data-i18n="nav.sell">Sell</a>
      <a class="bn-btn" href="valuation.html" data-i18n="nav.valuation">Valuation</a>
      <a class="bn-btn" href="tools.html" data-i18n="nav.tools">Tools</a>
    </div>
  </div>

  <!-- FLOATING WHATSAPP -->
  <div class="whatsapp"><a href="https://wa.me/919822292955" target="_blank" rel="noopener">WhatsApp</a></div>
  <div id="toast" class="toast" role="status" aria-live="polite">Saved!</div>

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <div class="cols" style="padding:20px 0 8px">
        <div>
          <h3>Second Wheel</h3>
          <p class="muted">Trusted Vehicles, Smart Deals</p>
        </div>
        <div>
          <h4>Company</h4>
          <a href="about.html">About Us</a>
          <a href="contact.html">Contact Us</a>
        </div>
        <div>
          <h4>Legal</h4>
          <a href="terms.html">Terms & Conditions</a>
          <a href="privacy.html">Privacy Policy</a>
          <a href="disclaimer.html">Disclaimer</a>
        </div>
        <div>
          <h4>Follow</h4>
          <a href="#">Instagram</a>
          <a href="#">Facebook</a>
        </div>
      </div>
      <div class="muted" style="padding:8px 0 24px">¬© <span id="yr"></span> Second Wheel ‚Äì All rights reserved.</div>
    </div>
  </footer>

  <!-- Supabase JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <script>
    // ---- i18n strings (EN / HI / MR) ----
    const I18N = {
      en:{
        'nav.home':'Home','nav.buy':'Buy','nav.sell':'Sell','nav.valuation':'Valuation','nav.tools':'Tools','nav.contact':'Contact',
        'hero.title':'Trusted Vehicles, Smart Deals','hero.subtitle':'Buy & Sell pre-owned Cars and Bikes with complete peace of mind.',
        'hero.buy':'Buy','hero.sell':'Sell','hero.buycar':'Buy Car','hero.buybike':'Buy Bike','hero.sellcar':'Sell Car','hero.sellbike':'Sell Bike',
        'feat.title':'Featured Vehicles','feat.filter':'Brand','tools.title':'Tools & Services','test.title':'What Customers Say',
        'faq.q1':'How does valuation work?','faq.a1':'Enter vehicle details and get an instant estimate. Final price after inspection.',
        'faq.q2':'Do you offer doorstep inspection?','faq.a2':'Yes, available in select cities.',
        'faq.q3':'Is Satara district prioritized?','faq.a3':'Yes, doorstep approval currently only for Satara district.'
      },
      hi:{
        'nav.home':'‡§π‡•ã‡§Æ','nav.buy':'‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç','nav.sell':'‡§¨‡•á‡§ö‡•á‡§Ç','nav.valuation':'‡§µ‡•à‡§≤‡•ç‡§Ø‡•Ç‡§è‡§∂‡§®','nav.tools':'‡§ü‡•Ç‡§≤‡•ç‡§∏','nav.contact':'‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï',
        'hero.title':'‡§ü‡•ç‡§∞‡§∏‡•ç‡§ü‡•á‡§° ‡§µ‡•ç‡§π‡•Ä‡§ï‡§≤‡•ç‡§∏, ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§°‡•Ä‡§≤‡•ç‡§∏','hero.subtitle':'‡§™‡•Å‡§∞‡§æ‡§®‡•Ä ‡§ï‡§æ‡§∞/‡§¨‡§æ‡§á‡§ï ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§Ç‡§§ ‡§π‡•ã‡§ï‡§∞ ‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç ‡§î‡§∞ ‡§¨‡•á‡§ö‡•á‡§Ç‡•§',
        'hero.buy':'‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç','hero.sell':'‡§¨‡•á‡§ö‡•á‡§Ç','hero.buycar':'‡§ï‡§æ‡§∞ ‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç','hero.buybike':'‡§¨‡§æ‡§á‡§ï ‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç','hero.sellcar':'‡§ï‡§æ‡§∞ ‡§¨‡•á‡§ö‡•á‡§Ç','hero.sellbike':'‡§¨‡§æ‡§á‡§ï ‡§¨‡•á‡§ö‡•á‡§Ç',
        'feat.title':'‡§´‡§º‡•Ä‡§ö‡§∞‡•ç‡§° ‡§µ‡§æ‡§π‡§®','feat.filter':'‡§¨‡•ç‡§∞‡§æ‡§Ç‡§°','tools.title':'‡§ü‡•Ç‡§≤‡•ç‡§∏ ‡§î‡§∞ ‡§∏‡•á‡§µ‡§æ‡§è‡§Å','test.title':'‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç',
        'faq.q1':'‡§µ‡•à‡§≤‡•ç‡§Ø‡•Ç‡§è‡§∂‡§® ‡§ï‡•à‡§∏‡•á ‡§π‡•ã‡§§‡§æ ‡§π‡•à?','faq.a1':'‡§µ‡§æ‡§π‡§® ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§°‡§æ‡§≤‡•á‡§Ç ‡§î‡§∞ ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§Ö‡§®‡•Å‡§Æ‡§æ‡§® ‡§™‡§æ‡§è‡§Ç‡•§ ‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§®‡§ø‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§ï‡•á ‡§¨‡§æ‡§¶‡•§',
        'faq.q2':'‡§°‡•ã‡§∞‡§∏‡•ç‡§ü‡•á‡§™ ‡§á‡§Ç‡§∏‡•ç‡§™‡•á‡§ï‡•ç‡§∂‡§® ‡§Æ‡§ø‡§≤‡§§‡§æ ‡§π‡•à?','faq.a2':'‡§π‡§æ‡§Å, ‡§ö‡•Å‡§®‡§ø‡§Ç‡§¶‡§æ ‡§∂‡§π‡§∞‡•ã‡§Ç ‡§Æ‡•á‡§Ç‡•§',
        'faq.q3':'‡§ï‡•ç‡§Ø‡§æ ‡§∏‡§§‡§æ‡§∞‡§æ ‡§ú‡§º‡§ø‡§≤‡•á ‡§ï‡•ã ‡§™‡•ç‡§∞‡§æ‡§•‡§Æ‡§ø‡§ï‡§§‡§æ ‡§π‡•à?','faq.a3':'‡§π‡§æ‡§Å, ‡§´‡§ø‡§≤‡§π‡§æ‡§≤ ‡§°‡•ã‡§∞‡§∏‡•ç‡§ü‡•á‡§™ ‡§Ö‡§™‡•ç‡§∞‡•Ç‡§µ‡§≤ ‡§ï‡•á‡§µ‡§≤ ‡§∏‡§§‡§æ‡§∞‡§æ ‡§ú‡§º‡§ø‡§≤‡•á ‡§ï‡•á ‡§≤‡§ø‡§è‡•§'
      },
      mr:{
        'nav.home':'‡§Æ‡•Å‡§ñ‡§™‡•É‡§∑‡•ç‡§†','nav.buy':'‡§ñ‡§∞‡•á‡§¶‡•Ä','nav.sell':'‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä','nav.valuation':'‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡§æ‡§Ç‡§ï‡§®','nav.tools':'‡§∏‡§æ‡§ß‡§®‡•á','nav.contact':'‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï',
        'hero.title':'‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø ‡§µ‡•ç‡§π‡•á‡§á‡§ï‡§≤‡•ç‡§∏, ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§°‡•Ä‡§≤‡•ç‡§∏','hero.subtitle':'‡§ú‡•Å‡§®‡•ç‡§Ø‡§æ ‡§ï‡§æ‡§∞/‡§¨‡§æ‡§à‡§ï ‡§®‡§ø‡§∞‡•ç‡§ß‡§æ‡§∏‡•ç‡§§‡§™‡§£‡•á ‡§ñ‡§∞‡•á‡§¶‡•Ä-‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä ‡§ï‡§∞‡§æ.',
        'hero.buy':'‡§ñ‡§∞‡•á‡§¶‡•Ä','hero.sell':'‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä','hero.buycar':'‡§ï‡§æ‡§∞ ‡§ñ‡§∞‡•á‡§¶‡•Ä','hero.buybike':'‡§¨‡§æ‡§à‡§ï ‡§ñ‡§∞‡•á‡§¶‡•Ä','hero.sellcar':'‡§ï‡§æ‡§∞ ‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä','hero.sellbike':'‡§¨‡§æ‡§à‡§ï ‡§µ‡§ø‡§ï‡•ç‡§∞‡•Ä',
        'feat.title':'‡§´‡•Ä‡§ö‡§∞‡•ç‡§° ‡§µ‡§æ‡§π‡§®‡•á','feat.filter':'‡§¨‡•ç‡§∞‡§Å‡§°','tools.title':'‡§ü‡•Ç‡§≤‡•ç‡§∏ ‡§Ü‡§£‡§ø ‡§∏‡•á‡§µ‡§æ','test.title':'‡§ó‡•ç‡§∞‡§æ‡§π‡§ï‡§æ‡§Ç‡§ö‡•á ‡§Æ‡§§',
        'faq.q1':'‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡§æ‡§Ç‡§ï‡§® ‡§ï‡§∏‡•á ‡§π‡•ã‡§§‡•á?','faq.a1':'‡§µ‡§æ‡§π‡§® ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§¶‡•ç‡§Ø‡§æ ‡§Ü‡§£‡§ø ‡§§‡§§‡•ç‡§ï‡§æ‡§≥ ‡§Ö‡§Ç‡§¶‡§æ‡§ú ‡§Æ‡§ø‡§≥‡§µ‡§æ. ‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§ï‡§ø‡§Ç‡§Æ‡§§ ‡§§‡§™‡§æ‡§∏‡§£‡•Ä‡§®‡§Ç‡§§‡§∞.',
        'faq.q2':'‡§°‡•ã‡§Ö‡§∞‡§∏‡•ç‡§ü‡•á‡§™ ‡§á‡§®‡•ç‡§∏‡•ç‡§™‡•á‡§ï‡•ç‡§∂‡§® ‡§Ü‡§π‡•á ‡§ï‡§æ?','faq.a2':'‡§π‡•ã, ‡§®‡§ø‡§µ‡§°‡§ï ‡§∂‡§π‡§∞‡§æ‡§Ç‡§Æ‡§ß‡•ç‡§Ø‡•á.',
        'faq.q3':'‡§∏‡§æ‡§§‡§æ‡§∞‡§æ ‡§ú‡§ø‡§≤‡•ç‡§π‡•ç‡§Ø‡§æ‡§≤‡§æ ‡§™‡•ç‡§∞‡§æ‡§ß‡§æ‡§®‡•ç‡§Ø ‡§Ü‡§π‡•á ‡§ï‡§æ?','faq.a3':'‡§π‡•ã, ‡§∏‡§ß‡•ç‡§Ø‡§æ ‡§°‡•ã‡§Ö‡§∞‡§∏‡•ç‡§ü‡•á‡§™ ‡§Æ‡§Ç‡§ú‡•Å‡§∞‡•Ä ‡§´‡§ï‡•ç‡§§ ‡§∏‡§æ‡§§‡§æ‡§∞‡§æ ‡§ú‡§ø‡§≤‡•ç‡§π‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä.'
      }
    };

    const langSeg = document.getElementById('langSeg');
    function applyLang(l){
      [...document.querySelectorAll('[data-i18n]')].forEach(el=>{
        const k=el.getAttribute('data-i18n');
        if(I18N[l] && I18N[l][k]) el.textContent = I18N[l][k];
      });
      localStorage.setItem('lang', l);
      [...langSeg.querySelectorAll('button')].forEach(b=>b.classList.toggle('active', b.dataset.lang===l));
      toast('Language: '+l.toUpperCase());
    }
    langSeg.addEventListener('click', e=>{ if(e.target.tagName==='BUTTON') applyLang(e.target.dataset.lang);});

    // ---- Dark toggle ----
    const darkBtn = document.getElementById('darkToggle');
    const DARK_KEY='secondwheel.dark';
    function applyDark(v){
      document.documentElement.style.colorScheme = v?'dark':'light';
      localStorage.setItem(DARK_KEY, v?'1':'0');
      darkBtn.textContent = v?'üåô':'‚òÄÔ∏è';
    }
    darkBtn.addEventListener('click', ()=>applyDark(!(localStorage.getItem(DARK_KEY)==='1')));
    applyDark(localStorage.getItem(DARK_KEY)==='1');

    // ---- Buy/Sell tabs ----
    const tabBuy=document.getElementById('tabBuy');
    const tabSell=document.getElementById('tabSell');
    const panelBuy=document.getElementById('panelBuy');
    const panelSell=document.getElementById('panelSell');
    function setTab(which){
      const isBuy=which==='buy';
      tabBuy.classList.toggle('active', isBuy);
      tabSell.classList.toggle('active', !isBuy);
      panelBuy.classList.toggle('hidden', !isBuy);
      panelSell.classList.toggle('hidden', isBuy);
    }
    tabBuy.addEventListener('click',()=>setTab('buy'));
    tabSell.addEventListener('click',()=>setTab('sell'));

    // ---- Toast ----
    function toast(msg){
      const t=document.getElementById('toast');
      t.textContent=msg; t.classList.add('show');
      clearTimeout(window.__t); window.__t=setTimeout(()=>t.classList.remove('show'), 1500);
    }

    // ---- Supabase Featured Vehicles (Storage API via supabase-js) ----
    const SUPABASE_URL = 'https://wbjwvxckbfkutqqbgupq.supabase.co';
    const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indiand2eGNrYmZrdXRxcWJndXBxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4NzU3NDEsImV4cCI6MjA2OTQ1MTc0MX0.u_zwikgAryhF5Ccv5yOvjq20hzxE5tbYfKI04uTnNXw';
    const STORAGE_BUCKET = 'vehicals';
    const DEMO_MODE = false; // per your request

    const supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

    async function listObjects(prefix){
      // prefix like 'featured/swift-2016/'
      const { data, error } = await supabaseClient
        .storage
        .from(STORAGE_BUCKET)
        .list(prefix, { limit: 100 });
      if(error){ console.error('Storage list error:', error); return []; }
      return data || [];
    }
    function publicUrl(path){
      // returns a public URL if the bucket is public
      const { data } = supabaseClient.storage.from(STORAGE_BUCKET).getPublicUrl(path);
      return data?.publicUrl || `${SUPABASE_URL}/storage/v1/object/public/${path}`;
    }

    const vehiclesRow = document.getElementById('vehiclesRow');
    const brandFilter = document.getElementById('brandFilter');

    // Registry of featured slugs
    const FEATURED = [
      {slug:'swift-2016', brand:'Maruti Suzuki', title:'Swift VXI 2016', price:'‚Çπ3.25L', year:2016, km:'72,000', type:'car'},
      {slug:'i20-2015', brand:'Hyundai', title:'i20 Sportz 2015', price:'‚Çπ3.60L', year:2015, km:'68,500', type:'car'},
      {slug:'splendor-2018', brand:'Hero', title:'Splendor Plus 2018', price:'‚Çπ45,000', year:2018, km:'24,000', type:'bike'},
      {slug:'pulsar-2019', brand:'Bajaj', title:'Pulsar 150 2019', price:'‚Çπ62,000', year:2019, km:'31,000', type:'bike'}
    ];

    function fillBrandFilter(){
      const brands = Array.from(new Set(FEATURED.map(v=>v.brand))).sort();
      brandFilter.innerHTML = `<option value=\"\">All Brands</option>` + brands.map(b=>`<option value=\"${b}\">${b}</option>`).join('');
      brandFilter.addEventListener('change', renderVehicles);
    }

    async function renderVehicles(){
      vehiclesRow.innerHTML='';
      const filter = brandFilter.value;
      const list = FEATURED.filter(v=>!filter || v.brand===filter);
      for(const v of list){
        // Load images from storage folder vehicals/featured/<slug>/
        let imgs=[];
        const arr = await listObjects(`featured/${v.slug}/`);
        imgs = (arr||[]).filter(o=>o.name && o.name.match(/\\.(jpg|jpeg|png|webp)$/i)).map(o=>publicUrl(`featured/${v.slug}/${o.name}`));
        const first = imgs[0] || 'data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22640%22 height=%22360%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23121826%22/><text x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 fill=%22%23f59e0b%22 font-size=%2220%22>No images in vehicals/featured/'+v.slug+'</text></svg>';
        const card = document.createElement('article');
        card.className='vehicle';
        card.innerHTML = `
          <div class="media">
            <img src="${first}" alt="${v.title}">
            <span class="tag">Featured</span>
          </div>
          <div class="body">
            <div class="title">${v.title}</div>
            <div class="meta"><span>${v.brand}</span><span>${v.price}</span></div>
            <div class="meta" style="margin-top:4px"><span>${v.year}</span><span>${v.km} km</span></div>
            <div class="actions">
              <button class="btn wish" aria-pressed="false">‚ù§Ô∏è Wishlist</button>
              <button class="btn btn-primary" data-slug="${v.slug}">Inquiry Now</button>
            </div>
          </div>`;
        const btn = card.querySelector('.btn.btn-primary');
        btn.addEventListener('click', ()=> openInquiry(v, imgs));
        const wish = card.querySelector('.wish');
        wish.addEventListener('click', ()=>{
          const on = wish.getAttribute('aria-pressed')==='true';
          wish.setAttribute('aria-pressed', String(!on));
          saveWishlist(v.slug, !on);
          toast(!on? 'Added to wishlist' : 'Removed from wishlist');
        });
        vehiclesRow.appendChild(card);
      }
    }

    // Wishlist in localStorage
    function saveWishlist(slug, add){
      const key='secondwheel.wishlist';
      const arr = JSON.parse(localStorage.getItem(key)||'[]');
      const set = new Set(arr);
      if(add) set.add(slug); else set.delete(slug);
      localStorage.setItem(key, JSON.stringify([...set]));
    }

    // Inquiry via WhatsApp with prefilled text
    function openInquiry(v, imgs){
      const msg = encodeURIComponent(`Hi Second Wheel, I am interested in ${v.title} (${v.brand}). Can you share more images and details?`);
      window.open(`https://wa.me/919822292955?text=${msg}`, '_blank');
    }

    // ---- Testimonials (simple auto-scroll) ----
    function loadTestimonials(){
      const data = [
        {name:'Rahul P.', text:'Great deal and smooth paperwork!'},
        {name:'Sana K.', text:'Doorstep inspection was super convenient.'},
        {name:'Vivek S.', text:'Transparent pricing. Recommended.'}
      ];
      const wrap = document.getElementById('testimonials');
      data.forEach(t=>{
        const d=document.createElement('div'); d.className='card'; d.style.minWidth='280px';
        d.innerHTML=`<h3>‚òÖ ‚òÖ ‚òÖ ‚òÖ ‚òÜ</h3><div class='muted' style='min-height:48px'>${t.text}</div><div class='ok'>‚Äî ${t.name}</div>`;
        wrap.appendChild(d);
      });
      setInterval(()=>{ wrap.scrollBy({left:300,behavior:'smooth'}); if(wrap.scrollLeft+wrap.clientWidth>=wrap.scrollWidth-5) wrap.scrollTo({left:0,behavior:'smooth'}); }, 3000);
    }

    // Init
    (function init(){
      const saved = localStorage.getItem('lang')||'en';
      applyLang(saved);
      fillBrandFilter();
      renderVehicles();
      loadTestimonials();
      document.getElementById('yr').textContent=new Date().getFullYear();
    })();
  </script>
</body>
</html>
      
