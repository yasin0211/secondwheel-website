
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Wishlist Form - Second Wheel</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f8f8f8;
      padding: 30px;
    }
    form {
      max-width: 600px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
    }
    label {
      font-weight: bold;
      margin-top: 10px;
      display: block;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      margin-bottom: 15px;
      border-radius: 5px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
    button {
      background-color: #e25a00;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #c24700;
    }
  </style>
</head>
<body>

<h2>Vehicle Wishlist Form</h2>
<form id="wishlistForm">
  <label for="name">Customer Name:</label>
  <input type="text" id="name" name="name" required>

  <label for="mobile">Mobile Number:</label>
  <input type="tel" id="mobile" name="mobile" pattern="[0-9]{10}" required>

  <label for="city">City:</label>
  <input type="text" id="city" name="city" required>

  <label for="category">Category:</label>
  <select id="category" name="category" required onchange="loadBrands()">
    <option value="">--Select Category--</option>
    <option value="Car">Car</option>
    <option value="Bike">Bike</option>
  </select>

  <label for="brand">Brand:</label>
  <select id="brand" name="brand" required onchange="loadModels()">
    <option value="">--Select Brand--</option>
  </select>

  <label for="model">Model:</label>
  <select id="model" name="model" required onchange="loadFuels()">
    <option value="">--Select Model--</option>
  </select>

  <label for="fuel">Fuel Type:</label>
  <select id="fuel" name="fuel" required>
    <option value="">--Select Fuel--</option>
  </select>

  <label for="year">Model Year:</label>
  <select id="year" name="year" required>
    <option value="">--Select Model Year--</option>
    <script>
      const yearSel = document.currentScript.parentElement;
      const currentYear = new Date().getFullYear();
      for (let y = 2000; y <= currentYear + 1; y++) {
        const opt = document.createElement('option');
        opt.value = y;
        opt.textContent = y;
        yearSel.appendChild(opt);
      }
    </script>
  </select>

  <button type="submit">Submit</button>
</form>

<script>
  let fuelData = [];

  fetch('fuel_types_by_model_extended.json')
    .then(response => response.json())
    .then(json => {
      fuelData = json;
    });

  function loadBrands() {
    const category = document.getElementById("category").value;
    const brandSel = document.getElementById("brand");
    brandSel.innerHTML = '<option value="">--Select Brand--</option>';
    document.getElementById("model").innerHTML = '<option value="">--Select Model--</option>';
    document.getElementById("fuel").innerHTML = '<option value="">--Select Fuel--</option>';

    const brands = fuelData.filter(item => item.category === category)
                           .map(item => item.brand)
                           .filter((v, i, a) => a.indexOf(v) === i);

    brands.forEach(brand => {
      const opt = document.createElement("option");
      opt.value = brand;
      opt.textContent = brand;
      brandSel.appendChild(opt);
    });
  }

  function loadModels() {
    const category = document.getElementById("category").value;
    const brand = document.getElementById("brand").value;
    const modelSel = document.getElementById("model");
    modelSel.innerHTML = '<option value="">--Select Model--</option>';
    document.getElementById("fuel").innerHTML = '<option value="">--Select Fuel--</option>';

    const models = fuelData.filter(item => item.category === category && item.brand === brand)
                           .map(item => item.model);

    models.forEach(model => {
      const opt = document.createElement("option");
      opt.value = model;
      opt.textContent = model;
      modelSel.appendChild(opt);
    });
  }

  function loadFuels() {
    const category = document.getElementById("category").value;
    const brand = document.getElementById("brand").value;
    const model = document.getElementById("model").value;
    const fuelSel = document.getElementById("fuel");
    fuelSel.innerHTML = '<option value="">--Select Fuel--</option>';

    const matched = fuelData.find(item =>
      item.category === category && item.brand === brand && item.model === model
    );

    if (matched) {
      matched.fuelTypes.forEach(fuel => {
        const opt = document.createElement("option");
        opt.value = fuel;
        opt.textContent = fuel;
        fuelSel.appendChild(opt);
      });
    }
  }

  document.getElementById("wishlistForm").addEventListener("submit", function(e) {
    e.preventDefault();
    alert("âœ… Wishlist submitted successfully!");
  });
</script>

</body>
</html>
<script src="data.js"></script>